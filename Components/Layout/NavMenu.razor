<MudNavMenu>
    @if (mainLayout.isAuthenticated)
    {
        <MudNavLink Href="/Account/Manage" Match="NavLinkMatch.All">
            <MudGrid Style="padding: 0.5rem 0.25rem 0.25rem 0.05rem">
                <MudItem xs="3">
                    <MudAvatar Color="Color.Primary" Variant="Variant.Outlined">
                        @if (mainLayout.hasProfilePicture)
                        {
                            //display TO DO
                        }
                        else
                        {
                            <MudText>@mainLayout.initials</MudText>
                        }
                    </MudAvatar>
                </MudItem>
                <MudItem xs="9">
                    <MudText>@mainLayout.userName</MudText>
                </MudItem>
            </MudGrid>
        </MudNavLink>
        <MudDivider />
    }

    <MudGrid Class="align-center justify-center object-bottom" Style="padding: 0.25rem 2rem 0.25rem 1.7rem">
        <MudItem xs="9">
            <MudText>
                Tryb ciemny:
            </MudText>
        </MudItem>
        <MudItem xs="3">
            <MudSwitch @bind-Value="mainLayout.isDarkMode" @onchange="@(e => mainLayout.DarkModeToggle())" Color="Color.Primary"></MudSwitch>
        </MudItem>
    </MudGrid>
    <MudDivider />
    <MudNavLink Href="/" Match="NavLinkMatch.All">Strona główna</MudNavLink>
    <MudNavLink Href="/moves/gallery" Match="NavLinkMatch.Prefix">Galeria figur</MudNavLink>
    <MudNavGroup Title="Zajęcia">
        <MudNavLink Href="/classes" Match="NavLinkMatch.Prefix">Przeglądaj</MudNavLink>
        <MudNavLink Href="@($"/classes/{mainLayout.userId}")" Match="NavLinkMatch.Prefix">Moje zajęcia</MudNavLink>
    </MudNavGroup>
    <MudNavLink Href="/help" Match="NavLinkMatch.Prefix">Pomoc techniczna</MudNavLink>

    @if (mainLayout.isAdmin)
    {
        <MudNavGroup Title="Panel admina">
            <MudNavLink Href="/admin/users" Match="NavLinkMatch.Prefix">Użytkownicy</MudNavLink>
            <MudNavLink Href="/admin/trainings" Match="NavLinkMatch.Prefix">Plany zajęć</MudNavLink>
        </MudNavGroup>
    }
</MudNavMenu>

@code {
    [CascadingParameter]
    public required MainLayout mainLayout { get; set; }
}
